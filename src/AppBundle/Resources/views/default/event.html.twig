{% extends '@App/base.html.twig' %}

{% block navigation %}
    <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a href="{{ path('homepage') }}">Startseite</a></li>
        <li><a href="{{ path('select-game', {'eventId': eventId}) }}">Resultat hinzuf√ºgen</a></li>
    </ul>
{% endblock %}
{% block body %}
    <div>
        <table class="striped">
            <thead>
            <tr>
                <th>Gesamtrang</th>
                <th>Nickname</th>
                <th>Gesamtscore</th>
                {% for key in games|keys %}
                    <th>{{ key }}</th>
                {% endfor %}
            </tr>
            </thead>

            <tbody>
            {% for result in results %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ result.player.nickname }}</td>
                    <td>{{ result.score }}</td>
                    {% for key in games %}
                        {% set hasResult = false %}
                        {% for gameId, gameResult in result.results %}
                            {% if key == gameId %}
                                {% set hasResult = true %}
                                <td>{{ gameResult.points }} ({{ gameResult.rank }})</td>
                            {% endif %}
                        {% endfor %}
                        {% if hasResult == false %}
                            <td></td>
                        {% endif %}
                    {% endfor %}


                </tr>
            {% endfor %}

            </tbody>
        </table>
    </div>
{% endblock %}
